// https://github.com/verlok/vanilla-lazyload/
(function(E,f){typeof exports=="object"&&typeof module!="undefined"?module.exports=f():typeof define=="function"&&define.amd?define(f):(E=typeof globalThis!="undefined"?globalThis:E||self).LazyLoad=f()})(this,function(){"use strict";function E(){return E=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},E.apply(this,arguments)}var f=typeof window!="undefined",H=f&&!("onscroll"in window)||typeof navigator!="undefined"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),$=f&&"IntersectionObserver"in window,K=f&&"classList"in document.createElement("p"),Q=f&&window.devicePixelRatio>1,kn={elements_selector:".lazy",container:H||f?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},W=function(n){return E({},kn,n)},X=function(n,t){var e,a="LazyLoad::Initialized",i=new n(t);try{e=new CustomEvent(a,{detail:{instance:i}})}catch{(e=document.createEvent("CustomEvent")).initCustomEvent(a,!1,!1,{instance:i})}window.dispatchEvent(e)},g="src",T="srcset",R="sizes",Y="poster",k="llOriginalAttrs",Z="data",G="loading",nn="loaded",tn="applied",D="error",en="native",Ln="data-",wn="ll-status",s=function(n,t){return n.getAttribute(Ln+t)},L=function(n){return s(n,wn)},m=function(n,t){return function(e,a,i){var r="data-ll-status";i!==null?e.setAttribute(r,i):e.removeAttribute(r)}(n,0,t)},O=function(n){return m(n,null)},V=function(n){return L(n)===null},F=function(n){return L(n)===en},On=[G,nn,tn,D],b=function(n,t,e,a){n&&(a===void 0?e===void 0?n(t):n(t,e):n(t,e,a))},I=function(n,t){K?n.classList.add(t):n.className+=(n.className?" ":"")+t},_=function(n,t){K?n.classList.remove(t):n.className=n.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},an=function(n){return n.llTempImage},x=function(n,t){if(t){var e=t._observer;e&&e.unobserve(n)}},j=function(n,t){n&&(n.loadingCount+=t)},on=function(n,t){n&&(n.toLoadCount=t)},rn=function(n){for(var t,e=[],a=0;t=n.children[a];a+=1)t.tagName==="SOURCE"&&e.push(t);return e},B=function(n,t){var e=n.parentNode;e&&e.tagName==="PICTURE"&&rn(e).forEach(t)},cn=function(n,t){rn(n).forEach(t)},C=[g],ln=[g,Y],N=[g,T,R],un=[Z],M=function(n){return!!n[k]},sn=function(n){return n[k]},dn=function(n){return delete n[k]},y=function(n,t){if(!M(n)){var e={};t.forEach(function(a){e[a]=n.getAttribute(a)}),n[k]=e}},A=function(n,t){if(M(n)){var e=sn(n);t.forEach(function(a){(function(i,r,o){o?i.setAttribute(r,o):i.removeAttribute(r)})(n,a,e[a])})}},fn=function(n,t,e){I(n,t.class_loading),m(n,G),e&&(j(e,1),b(t.callback_loading,n,e))},p=function(n,t,e){e&&n.setAttribute(t,e)},_n=function(n,t){p(n,R,s(n,t.data_sizes)),p(n,T,s(n,t.data_srcset)),p(n,g,s(n,t.data_src))},gn={IMG:function(n,t){B(n,function(e){y(e,N),_n(e,t)}),y(n,N),_n(n,t)},IFRAME:function(n,t){y(n,C),p(n,g,s(n,t.data_src))},VIDEO:function(n,t){cn(n,function(e){y(e,C),p(e,g,s(e,t.data_src))}),y(n,ln),p(n,Y,s(n,t.data_poster)),p(n,g,s(n,t.data_src)),n.load()},OBJECT:function(n,t){y(n,un),p(n,Z,s(n,t.data_src))}},xn=["IMG","IFRAME","VIDEO","OBJECT"],vn=function(n,t){!t||function(e){return e.loadingCount>0}(t)||function(e){return e.toLoadCount>0}(t)||b(n.callback_finish,t)},bn=function(n,t,e){n.addEventListener(t,e),n.llEvLisnrs[t]=e},Cn=function(n,t,e){n.removeEventListener(t,e)},J=function(n){return!!n.llEvLisnrs},P=function(n){if(J(n)){var t=n.llEvLisnrs;for(var e in t){var a=t[e];Cn(n,e,a)}delete n.llEvLisnrs}},pn=function(n,t,e){(function(a){delete a.llTempImage})(n),j(e,-1),function(a){a&&(a.toLoadCount-=1)}(e),_(n,t.class_loading),t.unobserve_completed&&x(n,e)},S=function(n,t,e){var a=an(n)||n;J(a)||function(i,r,o){J(i)||(i.llEvLisnrs={});var c=i.tagName==="VIDEO"?"loadeddata":"load";bn(i,c,r),bn(i,"error",o)}(a,function(i){(function(r,o,c,l){var u=F(o);pn(o,c,l),I(o,c.class_loaded),m(o,nn),b(c.callback_loaded,o,l),u||vn(c,l)})(0,n,t,e),P(a)},function(i){(function(r,o,c,l){var u=F(o);pn(o,c,l),I(o,c.class_error),m(o,D),b(c.callback_error,o,l),u||vn(c,l)})(0,n,t,e),P(a)})},Nn=function(n,t,e){(function(a){a.llTempImage=document.createElement("IMG")})(n),S(n,t,e),function(a){M(a)||(a[k]={backgroundImage:a.style.backgroundImage})}(n),function(a,i,r){var o=s(a,i.data_bg),c=s(a,i.data_bg_hidpi),l=Q&&c?c:o;l&&(a.style.backgroundImage='url("'.concat(l,'")'),an(a).setAttribute(g,l),fn(a,i,r))}(n,t,e),function(a,i,r){var o=s(a,i.data_bg_multi),c=s(a,i.data_bg_multi_hidpi),l=Q&&c?c:o;l&&(a.style.backgroundImage=l,function(u,d,v){I(u,d.class_applied),m(u,tn),v&&(d.unobserve_completed&&x(u,d),b(d.callback_applied,u,v))}(a,i,r))}(n,t,e)},U=function(n,t,e){(function(a){return xn.indexOf(a.tagName)>-1})(n)?function(a,i,r){S(a,i,r),function(o,c,l){var u=gn[o.tagName];u&&(u(o,c),fn(o,c,l))}(a,i,r)}(n,t,e):Nn(n,t,e)},mn=function(n){n.removeAttribute(g),n.removeAttribute(T),n.removeAttribute(R)},hn=function(n){B(n,function(t){A(t,N)}),A(n,N)},Mn={IMG:hn,IFRAME:function(n){A(n,C)},VIDEO:function(n){cn(n,function(t){A(t,C)}),A(n,ln),n.load()},OBJECT:function(n){A(n,un)}},zn=function(n,t){(function(e){var a=Mn[e.tagName];a?a(e):function(i){if(M(i)){var r=sn(i);i.style.backgroundImage=r.backgroundImage}}(e)})(n),function(e,a){V(e)||F(e)||(_(e,a.class_entered),_(e,a.class_exited),_(e,a.class_applied),_(e,a.class_loading),_(e,a.class_loaded),_(e,a.class_error))}(n,t),O(n),dn(n)},Tn=["IMG","IFRAME","VIDEO"],En=function(n){return n.use_native&&"loading"in HTMLImageElement.prototype},Rn=function(n,t,e){n.forEach(function(a){return function(i){return i.isIntersecting||i.intersectionRatio>0}(a)?function(i,r,o,c){var l=function(u){return On.indexOf(L(u))>=0}(i);m(i,"entered"),I(i,o.class_entered),_(i,o.class_exited),function(u,d,v){d.unobserve_entered&&x(u,v)}(i,o,c),b(o.callback_enter,i,r,c),l||U(i,o,c)}(a.target,a,t,e):function(i,r,o,c){V(i)||(I(i,o.class_exited),function(l,u,d,v){d.cancel_on_exit&&function(h){return L(h)===G}(l)&&l.tagName==="IMG"&&(P(l),function(h){B(h,function(q){mn(q)}),mn(h)}(l),hn(l),_(l,d.class_loading),j(v,-1),O(l),b(d.callback_cancel,l,u,v))}(i,r,o,c),b(o.callback_exit,i,r,c))}(a.target,a,t,e)})},In=function(n){return Array.prototype.slice.call(n)},z=function(n){return n.container.querySelectorAll(n.elements_selector)},Gn=function(n){return function(t){return L(t)===D}(n)},yn=function(n,t){return function(e){return In(e).filter(V)}(n||z(t))},w=function(n,t){var e=W(n);this._settings=e,this.loadingCount=0,function(a,i){$&&!En(a)&&(i._observer=new IntersectionObserver(function(r){Rn(r,a,i)},function(r){return{root:r.container===document?null:r.container,rootMargin:r.thresholds||r.threshold+"px"}}(a)))}(e,this),function(a,i){f&&window.addEventListener("online",function(){(function(r,o){var c;(c=z(r),In(c).filter(Gn)).forEach(function(l){_(l,r.class_error),O(l)}),o.update()})(a,i)})}(e,this),this.update(t)};return w.prototype={update:function(n){var t,e,a=this._settings,i=yn(n,a);on(this,i.length),!H&&$?En(a)?function(r,o,c){r.forEach(function(l){Tn.indexOf(l.tagName)!==-1&&function(u,d,v){u.setAttribute("loading","lazy"),S(u,d,v),function(h,q){var An=gn[h.tagName];An&&An(h,q)}(u,d),m(u,en)}(l,o,c)}),on(c,0)}(i,a,this):(e=i,function(r){r.disconnect()}(t=this._observer),function(r,o){o.forEach(function(c){r.observe(c)})}(t,e)):this.loadAll(i)},destroy:function(){this._observer&&this._observer.disconnect(),z(this._settings).forEach(function(n){dn(n)}),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){var t=this,e=this._settings;yn(n,e).forEach(function(a){x(a,t),U(a,e,t)})},restoreAll:function(){var n=this._settings;z(n).forEach(function(t){zn(t,n)})}},w.load=function(n,t){var e=W(t);U(n,e)},w.resetStatus=function(n){O(n)},f&&function(n,t){if(t)if(t.length)for(var e,a=0;e=t[a];a+=1)X(n,e);else X(n,t)}(w,window.lazyLoadOptions),w});