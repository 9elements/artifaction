/*!!
 *  p5.svg v0.5.2
 *  SVG Runtime for p5.js.
 *
 *  Copyright (C) 2015-2016 Zeno Zeng
 *  Licensed under the LGPL license.
 */(function(P,v){typeof define=="function"&&define.amd?define("p5.svg",["p5"],function(y){v(y)}):typeof exports=="object"?module.exports=v:v(P.p5)})(this,function(P){(function v(y,b,f){function i(r,n){if(!b[r]){if(!y[r]){var l=typeof require=="function"&&require;if(!n&&l)return l(r,!0);if(s)return s(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var c=b[r]={exports:{}};y[r][0].call(c.exports,function(_){var d=y[r][1][_];return i(d||_)},c,c.exports,v,y,b,f)}return b[r].exports}for(var s=typeof require=="function"&&require,o=0;o<f.length;o++)i(f[o]);return i})({1:[function(v,y,b){/*!!
 *  Canvas 2 Svg v1.0.9
 *  A low level canvas to SVG converter. Uses a mock canvas context to build an SVG document.
 *
 *  Licensed under the MIT license:
 *  http://www.opensource.org/licenses/mit-license.php
 *
 *  Author:
 *  Kerry Liu
 *
 *  Copyright (c) 2014 Gliffy Inc.
 */(function(){"use strict";var f,i,s,o,r;function n(t,e){var a=Object.keys(e),u;for(u=0;u<a.length;u++)t=t.replace(new RegExp("\\{"+a[u]+"\\}","gi"),e[a[u]]);return t}function l(t){var e,a,u;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",a="";do for(a="",u=0;u<12;u++)a+=e[Math.floor(Math.random()*e.length)];while(t[a]);return a}function h(t,e){var a,u,p={},g,m;for(t=t.split(","),e=e||10,a=0;a<t.length;a+=2)u="&"+t[a+1]+";",g=parseInt(t[a],e),p[u]="&#"+g+";";return p["\\xa0"]="&#160;",p}function c(t){var e={left:"start",right:"end",center:"middle",start:"start",end:"end"};return e[t]||e.start}function _(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}r=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),f={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},s=function(t){this.__root=t},s.prototype.addColorStop=function(t,e){var a=this.__createElement("stop"),u,p;a.setAttribute("offset",t),e.indexOf("rgba")!==-1?(u=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,p=u.exec(e),a.setAttribute("stop-color",n("rgb({r},{g},{b})",{r:p[1],g:p[2],b:p[3]})),a.setAttribute("stop-opacity",p[4])):a.setAttribute("stop-color",e),this.__root.appendChild(a)},o=function(t,e){this.__root=t,this.__ctx=e},i=function(t){var e={width:500,height:500,enableMirroring:!1},a;if(arguments.length>1?(a=e,a.width=arguments[0],a.height=arguments[1]):t?a=t:a=e,!(this instanceof i))return new i(a);this.width=a.width||e.width,this.height=a.height||e.height,this.enableMirroring=a.enableMirroring!==void 0?a.enableMirroring:e.enableMirroring,this.canvas=this,this.__canvas=document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},i.prototype.__createElement=function(t,e,a){typeof e>"u"&&(e={});var u=document.createElementNS("http://www.w3.org/2000/svg",t),p=Object.keys(e),g,m;for(a&&(u.setAttribute("fill","none"),u.setAttribute("stroke","none")),g=0;g<p.length;g++)m=p[g],u.setAttribute(m,e[m]);return u},i.prototype.__setDefaultStyles=function(){var t=Object.keys(f),e,a;for(e=0;e<t.length;e++)a=t[e],this[a]=f[a].canvas},i.prototype.__applyStyleState=function(t){var e=Object.keys(t),a,u;for(a=0;a<e.length;a++)u=e[a],this[u]=t[u]},i.prototype.__getStyleState=function(){var t,e={},a=Object.keys(f),u;for(t=0;t<a.length;t++)u=a[t],e[u]=this[u];return e},i.prototype.__applyStyleToCurrentElement=function(t){var e=Object.keys(f),a,u,p,g,m,x;for(a=0;a<e.length;a++)if(u=f[e[a]],p=this[e[a]],u.apply)if(u.apply.indexOf("fill")!==-1&&p instanceof o){if(p.__ctx)for(;p.__ctx.__defs.childNodes.length;)g=p.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[g]=g,this.__defs.appendChild(p.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",n("url(#{id})",{id:p.__root.getAttribute("id")}))}else u.apply.indexOf("fill")!==-1&&p instanceof s?this.__currentElement.setAttribute("fill",n("url(#{id})",{id:p.__root.getAttribute("id")})):u.apply.indexOf(t)!==-1&&u.svg!==p&&((u.svgAttr==="stroke"||u.svgAttr==="fill")&&p.indexOf("rgba")!==-1?(m=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,x=m.exec(p),this.__currentElement.setAttribute(u.svgAttr,n("rgb({r},{g},{b})",{r:x[1],g:x[2],b:x[3]})),this.__currentElement.setAttribute(u.svgAttr+"-opacity",x[4])):this.__currentElement.setAttribute(u.svgAttr,p))},i.prototype.__closestGroupOrSvg=function(t){return t=t||this.__currentElement,t.nodeName==="g"||t.nodeName==="svg"?t:this.__closestGroupOrSvg(t.parentNode)},i.prototype.getSerializedSvg=function(t){var e=new XMLSerializer().serializeToString(this.__root),a,u,p,g,m,x;if(x=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,x.test(e)&&(e=e.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t)for(a=Object.keys(r),u=0;u<a.length;u++)p=a[u],g=r[p],m=new RegExp(p,"gi"),m.test(e)&&(e=e.replace(m,g));return e},i.prototype.getSvg=function(){return this.__root},i.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},i.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var t=this.__stack.pop();this.__applyStyleState(t)},i.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){var a=this.__createElement("g");e.appendChild(a),this.__currentElement=a}var u=this.__currentElement.getAttribute("transform");u?u+=" ":u="",u+=t,this.__currentElement.setAttribute("transform",u)},i.prototype.scale=function(t,e){e===void 0&&(e=t),this.__addTransform(n("scale({x},{y})",{x:t,y:e}))},i.prototype.rotate=function(t){var e=t*180/Math.PI;this.__addTransform(n("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},i.prototype.translate=function(t,e){this.__addTransform(n("translate({x},{y})",{x:t,y:e}))},i.prototype.transform=function(t,e,a,u,p,g){this.__addTransform(n("matrix({a},{b},{c},{d},{e},{f})",{a:t,b:e,c:a,d:u,e:p,f:g}))},i.prototype.beginPath=function(){var t,e;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),e=this.__closestGroupOrSvg(),e.appendChild(t),this.__currentElement=t},i.prototype.__applyCurrentDefaultPath=function(){if(this.__currentElement.nodeName==="path"){var t=this.__currentDefaultPath;this.__currentElement.setAttribute("d",t)}else throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName)},i.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},i.prototype.moveTo=function(t,e){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand(n("M {x} {y}",{x:t,y:e}))},i.prototype.closePath=function(){this.__addPathCommand("Z")},i.prototype.lineTo=function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(n("L {x} {y}",{x:t,y:e})):this.__addPathCommand(n("M {x} {y}",{x:t,y:e}))},i.prototype.bezierCurveTo=function(t,e,a,u,p,g){this.__currentPosition={x:p,y:g},this.__addPathCommand(n("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:t,cp1y:e,cp2x:a,cp2y:u,x:p,y:g}))},i.prototype.quadraticCurveTo=function(t,e,a,u){this.__currentPosition={x:a,y:u},this.__addPathCommand(n("Q {cpx} {cpy} {x} {y}",{cpx:t,cpy:e,x:a,y:u}))};var d=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};i.prototype.arcTo=function(t,e,a,u,p){var g=this.__currentPosition&&this.__currentPosition.x,m=this.__currentPosition&&this.__currentPosition.y;if(!(typeof g>"u"||typeof m>"u")){if(p<0)throw new Error("IndexSizeError: The radius provided ("+p+") is negative.");if(g===t&&m===e||t===a&&e===u||p===0){this.lineTo(t,e);return}var x=d([g-t,m-e]),w=d([a-t,u-e]);if(x[0]*w[1]===x[1]*w[0]){this.lineTo(t,e);return}var C=x[0]*w[0]+x[1]*w[1],k=Math.acos(Math.abs(C)),A=d([x[0]+w[0],x[1]+w[1]]),E=p/Math.sin(k/2),G=t+E*A[0],O=e+E*A[1],S=[-x[1],x[0]],N=[w[1],-w[0]],T=function(D){var R=D[0],V=D[1];return V>=0?Math.acos(R):-Math.acos(R)},j=T(S),M=T(N);this.lineTo(G+S[0]*p,O+S[1]*p),this.arc(G,O,p,j,M)}},i.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},i.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},i.prototype.rect=function(t,e,a,u){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+a,e),this.lineTo(t+a,e+u),this.lineTo(t,e+u),this.lineTo(t,e),this.closePath()},i.prototype.fillRect=function(t,e,a,u){var p,g;p=this.__createElement("rect",{x:t,y:e,width:a,height:u},!0),g=this.__closestGroupOrSvg(),g.appendChild(p),this.__currentElement=p,this.__applyStyleToCurrentElement("fill")},i.prototype.strokeRect=function(t,e,a,u){var p,g;p=this.__createElement("rect",{x:t,y:e,width:a,height:u},!0),g=this.__closestGroupOrSvg(),g.appendChild(p),this.__currentElement=p,this.__applyStyleToCurrentElement("stroke")},i.prototype.clearRect=function(t,e,a,u){var p,g=this.__closestGroupOrSvg();p=this.__createElement("rect",{x:t,y:e,width:a,height:u,fill:"#FFFFFF"},!0),g.appendChild(p)},i.prototype.createLinearGradient=function(t,e,a,u){var p=this.__createElement("linearGradient",{id:l(this.__ids),x1:t+"px",x2:a+"px",y1:e+"px",y2:u+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(p),new s(p)},i.prototype.createRadialGradient=function(t,e,a,u,p,g){var m=this.__createElement("radialGradient",{id:l(this.__ids),cx:u+"px",cy:p+"px",r:g+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(m),new s(m)},i.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i,e=t.exec(this.font),a={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(a.decoration="underline"),this.__fontHref&&(a.href=this.__fontHref),a},i.prototype.__wrapTextLink=function(t,e){if(t.href){var a=this.__createElement("a");return a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),a.appendChild(e),a}return e},i.prototype.__applyText=function(t,e,a,u){var p=this.__parseFont(),g=this.__closestGroupOrSvg(),m=this.__createElement("text",{"font-family":p.family,"font-size":p.size,"font-style":p.style,"font-weight":p.weight,"text-decoration":p.decoration,x:e,y:a,"text-anchor":c(this.textAlign),"dominant-baseline":_(this.textBaseline)},!0);m.appendChild(document.createTextNode(t)),this.__currentElement=m,this.__applyStyleToCurrentElement(u),g.appendChild(this.__wrapTextLink(p,m))},i.prototype.fillText=function(t,e,a){this.__applyText(t,e,a,"fill")},i.prototype.strokeText=function(t,e,a){this.__applyText(t,e,a,"stroke")},i.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},i.prototype.arc=function(t,e,a,u,p,g){u=u%(2*Math.PI),p=p%(2*Math.PI),u===p&&(p=(p+2*Math.PI-.001*(g?-1:1))%(2*Math.PI));var m=t+a*Math.cos(p),x=e+a*Math.sin(p),w=t+a*Math.cos(u),C=e+a*Math.sin(u),k=g?0:1,A=0,E=p-u;E<0&&(E+=2*Math.PI),g?A=E>Math.PI?0:1:A=E>Math.PI?1:0,this.lineTo(w,C),this.__addPathCommand(n("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:a,ry:a,xAxisRotation:0,largeArcFlag:A,sweepFlag:k,endX:m,endY:x})),this.__currentPosition={x:m,y:x}},i.prototype.clip=function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),a=l(this.__ids),u=this.__createElement("g");t.removeChild(this.__currentElement),e.setAttribute("id",a),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path",n("url(#{id})",{id:a})),t.appendChild(u),this.__currentElement=u},i.prototype.drawImage=function(){var t=Array.prototype.slice.call(arguments),e=t[0],a,u,p,g,m=0,x=0,w,C,k,A,E,G,O,S,N,T,j;if(t.length===3)a=t[1],u=t[2],w=e.width,C=e.height,p=w,g=C;else if(t.length===5)a=t[1],u=t[2],p=t[3],g=t[4],w=e.width,C=e.height;else if(t.length===9)m=t[1],x=t[2],w=t[3],C=t[4],a=t[5],u=t[6],p=t[7],g=t[8];else throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);if(k=this.__closestGroupOrSvg(),O=this.__currentElement,e instanceof i){for(A=e.getSvg(),E=A.childNodes[0];E.childNodes.length;)j=E.childNodes[0].getAttribute("id"),this.__ids[j]=j,this.__defs.appendChild(E.childNodes[0]);G=A.childNodes[1],k.appendChild(G),this.__currentElement=G,this.translate(a,u),this.__currentElement=O}else(e.nodeName==="CANVAS"||e.nodeName==="IMG")&&(S=this.__createElement("image"),S.setAttribute("width",p),S.setAttribute("height",g),S.setAttribute("preserveAspectRatio","none"),(m||x||w!==e.width||C!==e.height)&&(N=document.createElement("canvas"),N.width=p,N.height=g,T=N.getContext("2d"),T.drawImage(e,m,x,w,C,0,0,p,g),e=N),S.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.nodeName==="CANVAS"?e.toDataURL():e.getAttribute("src")),k.appendChild(S),this.__currentElement=S,this.translate(a,u),this.__currentElement=O)},i.prototype.createPattern=function(t,e){var a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),u=l(this.__ids),p;return a.setAttribute("id",u),a.setAttribute("width",t.width),a.setAttribute("height",t.height),t.nodeName==="CANVAS"||t.nodeName==="IMG"?(p=document.createElementNS("http://www.w3.org/2000/svg","image"),p.setAttribute("width",t.width),p.setAttribute("height",t.height),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.nodeName==="CANVAS"?t.toDataURL():t.getAttribute("src")),a.appendChild(p),this.__defs.appendChild(a)):t instanceof i&&(a.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(a)),new o(a,this)},i.prototype.drawFocusRing=function(){},i.prototype.createImageData=function(){},i.prototype.getImageData=function(){},i.prototype.putImageData=function(){},i.prototype.globalCompositeOperation=function(){},i.prototype.setTransform=function(){},y.exports=i})()},{}],2:[function(v,y,b){var f=v("./canvas2svg"),i=function(s,o,r){f.call(this),this.__width=s,this.__height=o,this.generations=[[]];var n=this;if(this.__imageSmoothingEnabled=!0,["mozImageSmoothingEnabled","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled"].forEach(function(c){Object.defineProperty(n,c,{get:function(){return n.__imageSmoothingEnabled},set:function(_){n.__imageSmoothingEnabled=_}})}),r=r||{},["fillStyle","strokeStyle"].forEach(function(c){var _="__"+c;Object.defineProperty(n,c,{get:function(){return n[_]},set:function(d){if(d.indexOf("NaN")>-1){console.warn("svgcanvas: invalid value for "+c+", fail to set it to "+d);return}n[_]=d}})}),r.debug){this.__history=[];var l=[];for(var h in this)typeof this[h]=="function"&&h.indexOf("__")!==0&&h!=="getSerializedSvg"&&l.push(h);["__fillStyle","__strokeStyle"].forEach(function(c){var _="__debug__"+c;Object.defineProperty(n,c,{get:function(){return n[_]},set:function(d){var t=c.replace(/__/g,"")+" = "+d;n.__history.push(t),n[_]=d}})}),l.forEach(function(c){var _=n[c];n[c]=function(){var d=c+"("+Array.prototype.slice.call(arguments).join(", ")+");";return n.__history.push(d),n.__history.length>100&&n.__history.shift(),_.apply(n,arguments)}})}};i.prototype=Object.create(f.prototype),i.prototype.scale=function(s,o){s===void 0||o===void 0||f.prototype.scale.apply(this,arguments)},i.prototype.__createElement=function(s,o,r){this.__imageSmoothingEnabled||["circle","ellipse","line","path","polygon","polyline","rect"].indexOf(s)>-1&&(o=o||{},o["shape-rendering"]="crispEdges");var n=f.prototype.__createElement.call(this,s,o,r),l=this.generations[this.generations.length-1];return l.push(n),n},i.prototype.__gc=function(){this.generations.push([]);var s=this;setTimeout(function(){if(!(s.__groupStack.length>0)&&s.__currentElement.nodeName!=="path"){for(;s.generations.length>1;)for(var o=s.generations.shift(),r=0,n=o.length;n>0;)if(r=n,o=o.filter(function(h){var c=h.children||h.childNodes;return c.length===0?(h.parentNode.removeChild(h),!1):!0}),n=o.length,n===r){var l=s.generations[s.generations.length-1];o.forEach(function(h){l.push(h)});break}}},0)},i.prototype.clearRect=function(s,o,r,n){if(s===0&&o===0&&r===this.__width&&n===this.__height){this.generations.forEach(function(h){h.forEach(function(c){c&&c.parentNode.removeChild(c)})}),this.generations=[[]];var l=this.__createElement("g");this.__root.appendChild(l),this.__currentElement=l}else f.prototype.clearRect.call(this,s,o,r,n)},i.prototype.fillRect=function(s,o,r,n){s===0&&o===0&&r===this.__width&&n===this.__height&&this.__gc(),f.prototype.fillRect.call(this,s,o,r,n)},i.prototype.drawImage=function(){var s=document.createElement("canvas");s.width=this.__width,s.height=this.__height;var o=arguments,r=s.getContext("2d");r.drawImage.apply(r,o);var n=s.toDataURL("image/png"),l=this.__createElement("image",{x:0,y:0,width:s.width,height:s.height,preserveAspectRatio:"none"}),h=this.__closestGroupOrSvg();l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),h.appendChild(l)},i.prototype.getSerializedSvg=null,y.exports=i},{"./canvas2svg":1}],3:[function(v,y,b){var f=v("./context");function i(s){var o=s&&s.debug;this.ctx=new f(100,100,{debug:o}),this.svg=this.ctx.__root;var r=this.svg,n=this,l=document.createElement("div");l.style.display="inline-block",l.appendChild(r),this.wrapper=l,Object.defineProperty(this,"className",{get:function(){return l.getAttribute("class")||""},set:function(h){return l.setAttribute("class",h)}}),["width","height"].forEach(function(h){Object.defineProperty(n,h,{get:function(){return r.getAttribute(h)|0},set:function(c){if(!(isNaN(c)||typeof c>"u"))return n.ctx["__"+h]=c,r.setAttribute(h,c),l[h]=c}})}),["style","id"].forEach(function(h){Object.defineProperty(n,h,{get:function(){return l[h]},set:function(c){if(typeof c<"u")return l[h]=c}})}),["getBoundingClientRect"].forEach(function(h){n[h]=function(){return r[h]()}})}i.prototype.getContext=function(s){if(s!=="2d")throw new Error("Unsupported type of context for SVGCanvas");return this.ctx},i.prototype.toObjectURL=function(){var s=new XMLSerializer().serializeToString(this.svg),o=new Blob([s],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(o)},i.prototype.toDataURL=function(s,o){var r=new XMLSerializer().serializeToString(this.svg),n=document.documentMode;if(n){var l=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;l.test(r)&&(r=r.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink'))}var h="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r);if(s==="image/svg+xml"||!s)return h;if(s==="image/jpeg"||s==="image/png"){var c=document.createElement("canvas");c.width=this.width,c.height=this.height;var _=c.getContext("2d"),d=new Image;if(d.src=h,d.complete&&d.width>0&&d.height>0)return _.drawImage(d,0,0),c.toDataURL(s,o);throw new Error("svgcanvas.toDataURL() for jpeg/png is only available in Chrome.")}throw new Error("Unknown type for SVGCanvas.prototype.toDataURL, please use image/jpeg | image/png | image/svg+xml.")},i.prototype.getElement=function(){return this.wrapper},y.exports=i},{"./context":2}],4:[function(v,y,b){var f={SVG:"svg"};y.exports=f},{}],5:[function(v,y,b){y.exports=function(f){f.prototype.querySVG=function(s){var o=this._renderer&&this._renderer.svg;return o?f.SVGElement.prototype.query.call({elt:o},s):null};function i(s){return s?f.Element.apply(this,arguments):null}i.prototype=Object.create(f.Element.prototype),i.prototype.query=function(s){for(var o=this.elt.querySelectorAll(s),r=[],n=0;n<o.length;n++)r[n]=new i(o[n]);return r},i.prototype.append=function(s){var o=s.elt||s;return this.elt.appendChild(o),this},i.prototype.attribute=function(){var s=arguments;return s.length===3&&this.elt.setAttributeNS.apply(this.elt,s),s.length===2&&this.elt.setAttribute.apply(this.elt,s),s.length===1?this.elt.getAttribute.apply(this.elt,s):this},i.prototype.filter=function(s,o){return f.SVGFilters.apply(this,s,o),this},i.prototype.unfilter=function(s,o){var r=this.attribute("data-p5-svg-filters")||"[]";r=JSON.parse(r),o===void 0&&(o=null);var n=!1;return r=r.reverse().filter(function(l){return l[0]===s&&l[1]===o&&!n?(n=!0,!1):!0}).reverse(),this.attribute("data-p5-svg-filters",JSON.stringify(r)),f.SVGFilters.apply(this,null),this},i.create=function(s,o){o=o||{};var r=document.createElementNS("http://www.w3.org/2000/svg",s);return Object.keys(o).forEach(function(n){r.setAttribute(n,o[n])}),new i(r)},i.prototype.matches=function(s){for(var o=this.elt,r=(o.document||o.ownerDocument).querySelectorAll(s),n=0;r[n]&&r[n]!==o;)n++;return!!r[n]},i.prototype._getDefs=function(){var s=this.parentNode("svg"),o=s.query("defs");return o[0]?o=o[0]:(o=i.create("defs"),s.append(o)),o},i.prototype.parentNode=function(s){if(!s)return new i(this.elt.parentNode);for(var o=this;o;)if(o=this.parentNode(),o&&o.matches(s))return o;return null},f.SVGElement=i}},{}],6:[function(v,y,b){y.exports=function(f){var i=f.prototype.filter,s=v("./p5.SVGFilters")(f);f.prototype.registerSVGFilter=function(o,r){s[o]=r},f.prototype.filter=function(o,r){var n=this._renderer.svg;if(n){var l=n.children||n.childNodes,h=f.SVGElement.create("g");this._renderer._setGCFlag(h.elt),n.appendChild(h.elt),l=Array.prototype.slice.call(l),l.forEach(function(c){c!==h.elt&&c.nodeName.toLowerCase()!=="defs"&&h.elt.appendChild(c)}),h.filter(o,r),h=f.SVGElement.create("g"),this._renderer._setGCFlag(h.elt),this._renderer.svg.appendChild(h.elt),this._renderer.drawingContext.__currentElement=h.elt}else i.apply(this,arguments)}}},{"./p5.SVGFilters":10}],7:[function(v,y,b){y.exports=function(f){v("./p5.RendererSVG")(f),v("./rendering")(f),v("./io")(f),v("./element")(f),v("./filters")(f);var i=v("./constants");Object.keys(i).forEach(function(s){f.prototype[s]=i[s]})}},{"./constants":4,"./element":5,"./filters":6,"./io":8,"./p5.RendererSVG":9,"./rendering":11}],8:[function(v,y,b){y.exports=function(f){var i=function(r,n,l){if(r=new XMLSerializer().serializeToString(r),r="data:image/svg+xml;charset=utf-8,"+encodeURI(r),n=="image/svg+xml"){l(null,r);return}var h=new Image,c=document.createElement("canvas"),_=c.getContext("2d");h.onload=function(){c.width=h.width,c.height=h.height,_.drawImage(h,0,0);var d=c.toDataURL(n);l(null,d)},h.src=r};f.prototype._makeSVGFrame=function(r){var n=r.filename||"untitled",l=r.extension;l=l||this._checkFileExtension(n,l)[1];var h=new RegExp("\\."+l+"$");n=n.replace(h,""),l===""&&(l="svg");var c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpeg",svg:"image/svg+xml"}[l];if(!c)throw new Error("Fail to getFrame, invalid extension: "+l+", please use png | jpeg | jpg | svg.");var _=r.svg||this._renderer.svg;i(_,c,function(d,t){var e="image/octet-stream";t=t.replace(c,e),r.callback(d,{imageData:t,filename:n,ext:l})})},f.prototype.saveSVG=function(){var r=arguments;r=[r[0],r[1],r[2]];var n;r[0]instanceof f.Graphics&&(n=r[0]._renderer.svg,r.shift()),r[0]&&r[0].elt&&(n=r[0].elt,r.shift()),typeof r[0]=="object"&&(n=r[0],r.shift());var l=r[0],h=r[1],c=this;this._makeSVGFrame({svg:n,filename:l,extension:h,callback:function(_,d){c.downloadFile(d.imageData,d.filename,d.ext)}})};var s=f.prototype.saveFrames;f.prototype.saveFrames=function(r,n,l,h,c){var _=arguments;if(!this._renderer.svg){s.apply(this,_);return}l=l||3,l=f.prototype.constrain(l,0,15),l=l*1e3,h=h||15,h=f.prototype.constrain(h,0,22);var d=0,t=[],e=0,a=this,u=setInterval(function(){(function(g){e++,a._makeSVGFrame({filename:r+g,extension:n,callback:function(m,x){t[g]=x,e--}})})(d),d++},1e3/h),p=function(){if(e>0){setTimeout(function(){p()},10);return}c?c(t):t.forEach(function(g){a.downloadFile(g.imageData,g.filename,g.ext)})};setTimeout(function(){clearInterval(u),p()},l+.01)};var o=f.prototype.save;f.prototype.save=function(){var r=arguments;r=[r[0],r[1]];var n;if(r[0]instanceof f.Graphics){var l=r[0].elt;n=l.svg,r.shift()}r[0]&&r[0].elt&&(n=r[0].elt,r.shift()),typeof r[0]=="object"&&(n=r[0],r.shift()),n=n||this._renderer&&this._renderer.svg;var h=r[0],c=["jpeg","png","jpg","svg",""],_=this._checkFileExtension(h,"")[1],d=n&&n.nodeName&&n.nodeName.toLowerCase()==="svg"&&c.indexOf(_)>-1;if(d)this.saveSVG(n,h);else return o.apply(this,arguments)},f.prototype._svg_get=function(r,n,l){if(r.indexOf("data:")===0){if(r.indexOf(",")===-1){l(new Error("Fail to parse dataurl: "+r));return}var h=r.split(",").pop();return setTimeout(function(){r.indexOf(";base64,")>-1?h=atob(h):h=decodeURIComponent(h),n(h)},1),h}else return this.httpGet(r,n),null},f.prototype.loadSVG=function(r,n,l){var h=document.createElement("div"),c=new f.SVGElement(h);return this._svg_get(r,function(_){if(h.innerHTML=_,_=h.querySelector("svg"),!_){l&&l(new Error("Fail to create <svg>."));return}c.elt=_,n&&n(c)},l),c},f.prototype._preloadMethods.loadSVG=f.prototype,f.prototype.getDataURL=function(){return this._renderer.elt.toDataURL("image/svg+xml")}}},{}],9:[function(v,y,b){var f=v("svgcanvas");y.exports=function(i){function s(o,r,n){var l=new f,h=l.svg,c=o.parentNode,_=o.id,d=o.className;return c.replaceChild(l.getElement(),o),l.id=_,l.className=d,o=l,o.parentNode={removeChild:function(t){if(t===o){var e=l.getElement();e.parentNode.removeChild(e)}}},i.Renderer2D.call(this,o,r,n),this.isSVG=!0,this.svg=h,this}s.prototype=Object.create(i.Renderer2D.prototype),s.prototype._applyDefaults=function(){i.Renderer2D.prototype._applyDefaults.call(this),this.drawingContext.lineWidth=1},s.prototype.line=function(o,r,n,l){var h="rgba(0,0,0,0)",c=this.drawingContext;if(this._doStroke){if(c.strokeStyle===h)return this}else return this;return c.beginPath(),c.moveTo(o,r),c.lineTo(n,l),c.stroke(),this},s.prototype.resize=function(o,r){!o||!r||((this.width!==o||this.height!==r)&&this.width&&this.height&&this.drawingContext.clearRect(0,0,this.width,this.height),this._withPixelDensity(function(){i.Renderer2D.prototype.resize.call(this,o,r)}),this.svg.setAttribute("viewBox",[0,0,o,r].join(" ")))},s.prototype._withPixelDensity=function(o){var r=this._pInst.pixelDensity;this._pInst.pixelDensity=1,o.apply(this),this._pInst.pixelDensity=r},s.prototype.background=function(){var o=arguments;this._withPixelDensity(function(){i.Renderer2D.prototype.background.apply(this,o)})},s.prototype.resetMatrix=function(){this._withPixelDensity(function(){i.Renderer2D.prototype.resetMatrix.apply(this)})},s.prototype._setGCFlag=function(o){var r=this.drawingContext,n=r.generations[r.generations.length-1];n.push(o)},s.prototype.appendChild=function(o){o&&o.elt&&(o=o.elt),this._setGCFlag(o);var r=this.drawingContext.__closestGroupOrSvg();r.appendChild(o)},s.prototype.image=function(o,r,n,l,h){if(!o)throw new Error("Invalid image: "+o);var c=o._renderer&&o._renderer.svg;c=c||o.elt&&o.elt.nodeName&&o.elt.nodeName.toLowerCase()==="svg"&&o.elt,c=c||o.nodeName&&o.nodeName.toLowerCase()=="svg"&&o,c?(c=c.cloneNode(!0),c.setAttribute("width",l),c.setAttribute("height",h),c.setAttribute("x",r),c.setAttribute("y",n),this.appendChild(c)):i.Renderer2D.prototype.image.apply(this,arguments)},i.RendererSVG=s}},{svgcanvas:3}],10:[function(v,y,b){y.exports=function(f){var i=function(){},s=f.SVGElement,o=function(){return Date.now().toString()+Math.random().toString().replace(/0\./,"")};return i.apply=function(r,n,l){var h=r.attribute("data-p5-svg-filters")||"[]";if(h=JSON.parse(h),n&&h.push([n,l]),r.attribute("data-p5-svg-filters",JSON.stringify(h)),h.length===0){r.attribute("filter",null);return}h=h.map(function(e,a){var u=a===0?"SourceGraphic":"result-"+(a-1),p="result-"+a;return i[e[0]].call(null,u,p,e[1])});var c=r.attribute("data-p5-svg-filter-id");c||(c="p5-svg-"+o(),r.attribute("data-p5-svg-filter-id",c)),r.attribute("filter","url(#"+c+")");var _=s.create("filter",{id:c});h.forEach(function(e){Array.isArray(e)||(e=[e]),e.forEach(function(a){_.append(a)})});var d=r._getDefs(),t=d.query("#"+c)[0];t?t.elt.parentNode.replaceChild(_.elt,t.elt):d.append(_)},i.blur=function(r,n,l){return s.create("feGaussianBlur",{stdDeviation:l,in:r,result:n,"color-interpolation-filters":"sRGB"})},i.colorMatrix=function(r,n,l){return s.create("feColorMatrix",{type:"matrix",values:l.join(" "),"color-interpolation-filters":"sRGB",in:r,result:n})},i.gray=function(r,n){var l=[.2126,.7152,.0722,0,0,.2126,.7152,.0722,0,0,.2126,.7152,.0722,0,0,0,0,0,1,0];return i.colorMatrix(r,n,l)},i.threshold=function(r,n,l){var h=[];h.push(i.gray(r,n+"-tmp"));var c=s.create("feComponentTransfer",{in:n+"-tmp",result:n}),_=Math.floor(l*255);return["R","G","B"].forEach(function(d){var t=s.create("feFunc"+d,{type:"linear",slope:255,intercept:(_-1)*-1});c.append(t)}),h.push(c),h},i.invert=function(r,n){var l=[-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,1,0,0,0,1,0];return i.colorMatrix(r,n,l)},i.opaque=function(r,n){var l=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1];return i.colorMatrix(r,n,l)},i._discreteTableValues=function(r){for(var n=[],l=0;l<256;l++){var h=r(l);n.push(h/255)}return n},i.posterize=function(r,n,l){if(l=parseInt(l,10),l<2||l>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");var h=i._discreteTableValues(function(_){return(_*l>>8)*255/(l-1)}),c=s.create("feComponentTransfer",{in:r,result:n,"color-interpolation-filters":"sRGB"});return["R","G","B"].forEach(function(_){var d=s.create("feFunc"+_,{type:"discrete",tableValues:h.join(" ")});c.append(d)}),c},i._blendOffset=function(r,n,l){var h=[];return[["left",-1,0],["right",1,0],["up",0,-1],["down",0,1]].forEach(function(c){h.push(s.create("feOffset",{in:r,result:n+"-"+c[0],dx:c[1],dy:c[2]}))}),[[null,r],[n+"-left",n+"-tmp-0"],[n+"-right",n+"-tmp-1"],[n+"-up",n+"-tmp-2"],[n+"-down",n+"-tmp-3"]].forEach(function(c,_,d){_!==0&&h.push(s.create("feBlend",{in:d[_-1][1],in2:c[0],result:c[1],mode:l}))}),h},i.erode=function(r,n){return i._blendOffset(r,n,"darken")},i.dilate=function(r,n){return i._blendOffset(r,n,"lighten")},f.SVGFilters=i,i}},{}],11:[function(v,y,b){var f=v("./constants"),i=v("svgcanvas");y.exports=function(s){var o=s.Graphics;s.Graphics=function(n,l,h,c){var _=arguments;if(o.apply(this,_),h===f.SVG){var d=this._renderer.elt;this._renderer=new s.RendererSVG(d,c,!1),d=this._renderer.elt,this.elt=d,this._renderer.resize(n,l),this._renderer._applyDefaults()}return this},s.Graphics.prototype=o.prototype,s.prototype.loadGraphics=function(n,l,h){if(n._renderer.svg){var c=n._renderer.svg,_=i.prototype.toDataURL.call(n._renderer.elt,"image/svg+xml"),d=this.createGraphics(n.width,n.height);d._renderer.svg=c.cloneNode(!0),d.loadImage(_,function(t){d.image(t),l(d)},h)}else l(n)};var r=s.prototype.createCanvas;s.prototype.createCanvas=function(n,l,h){var c=r.apply(this,arguments);if(h===f.SVG){var _=c.elt;this._setProperty("_renderer",new s.RendererSVG(_,this,!0)),this._isdefaultGraphics=!0,this._renderer.resize(n,l),this._renderer._applyDefaults()}return this._renderer}}},{"./constants":4,svgcanvas:3}],12:[function(v,y,b){v("../src/index.js")(P)},{"../src/index.js":7}]},{},[12])});
