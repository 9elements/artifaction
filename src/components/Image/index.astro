---
const { src, alt, width, height, lazy = true, ...props } = Astro.props
---

<picture {...props}>
  <source srcset={Astro.resolve(src.replace(".jpg", ".avif"))} type="image/avif"
  />
  <source srcset={Astro.resolve(src.replace(".jpg", ".webp"))} type="image/webp"
  />
  <img
    {width}
    {height}
    {src}
    loading={lazy ? "lazy" : null}
    decoding="async"
    alt={alt || ""}
  />
</picture>
